(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{205:function(t,e,r){"use strict";r.r(e);r(14),r(10),r(124),r(27);var n=r(4),o=r(5),l={middleware:"not-auth",head:function(){return{title:"".concat(this.$t("pages.reset.title")," - Meters"),htmlAttrs:{lang:this.$store.state.locale},meta:[{hid:"description",name:"description",content:this.$t("pages.reset.description")}]}},mounted:function(){this.email=this.$route.query.email},data:function(){return{resetting:!1,email:""}},methods:{reset:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,l,c,m;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),e.resetting=!0,n=t.target[0].value,e.$store.dispatch("hideMessage"),r.prev=4,r.next=7,e.$get("/reset",{email:n});case 7:return l=r.sent,r.next=10,l.json();case 10:if(c=r.sent,l.ok){r.next=15;break}return t.target[0].focus(),c.errors?(m=Object.values(c.errors)[0][0],e.$store.dispatch("showMessage",{message:m,isError:!0})):e.$store.dispatch("showMessage",{message:c.message,isError:!0}),r.abrupt("return");case 15:e.$store.dispatch("showMessage",{message:c.message,isError:!1}),e.$router.push("/login").catch(o.A),r.next=23;break;case 19:r.prev=19,r.t0=r.catch(4),console.error("Error getting response",r.t0),e.$store.dispatch("showMessage",{message:e.$t("error.unknown"),isError:!0});case 23:return r.prev=23,e.resetting=!1,r.finish(23);case 26:case"end":return r.stop()}}),r,null,[[4,19,23,26]])})))()}}},c=r(13),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mt-4 lg:mt-16 flex flex-col items-center"},[r("div",{staticClass:"absolute left-0 top-0"},[r("nuxt-link",{staticClass:"clickable material-icons focus:shadow-outline hover:lighten-10 active:darken-10 absolute left-0 top-0 min-w-10 min-h-10 px-5 py-4 text-2xl",attrs:{title:t.$t("global.back"),to:"login"}},[t._v("\n      arrow_back\n    ")])],1),t._v(" "),r("section",{staticClass:"flex flex-col items-center"},[r("img",{staticClass:"w-16 sm:mb-2 md:w-32",attrs:{src:"/images/naito-900.svg",alt:t.$t("alt.naito_one_logo")}}),t._v(" "),r("h1",{staticClass:"font-heading text-2xl text-center",domProps:{textContent:t._s(t.$t("pages.reset.title"))}})]),t._v(" "),r("form",{staticClass:"my-8 flex flex-col items-center w-full sm:w-100 bg-gray-100 rounded-md px-4 py-8 font-medium",attrs:{action:"#"},on:{submit:t.reset}},[r("p",{staticClass:"text-center text-gray-800",domProps:{textContent:t._s(t.$t("pages.reset.form.explain"))}}),t._v(" "),r("p",{staticClass:"text-center text-gray-600 mb-4",domProps:{textContent:t._s(t.$t("pages.reset.form.note"))}}),t._v(" "),r("label",{staticClass:"w-full",attrs:{for:"email-input"},domProps:{textContent:t._s(t.$t("global.email"))}}),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"w-full px-4 py-2 mb-8 transparent-input",attrs:{disabled:t.resetting,type:"email",name:"email-input",id:"email-input",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),r("input",{staticClass:"text-center action w-full bg-naito-green-200 text-gray-100",attrs:{disabled:t.resetting,type:"submit"},domProps:{value:t.$t("pages.reset.form.submit")}})])])}),[],!1,null,null,null);e.default=component.exports}}]);